; =============================================================================
; MANI PHP Configuration (php.ini)
;
; Description:
;   This is a general-purpose PHP configuration file optimized for a modern
;   development environment. It prioritizes clear error reporting and provides
;   sensible defaults for performance and resource limits.
; =============================================================================

; --- Core Settings ---
engine = On
short_open_tag = Off
precision = 14
output_buffering = 4096
zlib.output_compression = Off
implicit_flush = Off
serialize_precision = -1
disable_functions =
disable_classes =

; --- Error Reporting (Development Focus) ---
; Report all errors, and display them directly in the output.
; For production, 'display_errors' should be 'Off' and 'log_errors' should be 'On'.
display_errors = On
display_startup_errors = On
error_reporting = E_ALL
log_errors = On
error_log = /dev/stderr ; Send errors to stderr so Docker can log them
html_errors = On

; --- Resource Limits ---
; Sensible defaults for a local development environment.
max_execution_time = 300
max_input_time = 60
memory_limit = 512M

; --- File Uploads ---
; Allow for larger file uploads, common in development.
post_max_size = 100M
upload_max_filesize = 100M
max_file_uploads = 20

; --- Opcache Settings ---
; Opcache is crucial for performance, even in development.
; These settings are a good balance for dev, avoiding overly aggressive caching.
opcache.enable = 1
opcache.enable_cli = 1
opcache.memory_consumption = 128
opcache.interned_strings_buffer = 8
opcache.max_accelerated_files = 10000
opcache.revalidate_freq = 2 ; In dev, check for file changes every 2 seconds
opcache.fast_shutdown = 1

; --- Session Handling ---
session.save_handler = files
session.save_path = "/tmp"
session.use_cookies = 1
session.cookie_httponly = 1

; --- Date & Time ---
; It's best practice to explicitly set the timezone.
date.timezone = UTC

; --- Assertions ---
; Enable assertions and have them throw exceptions.
zend.assertions = 1
assert.exception = 1
